{"openapi":"3.1.0","info":{"title":"Sardoba Cashback App","version":"0.1.0"},"paths":{"/api/v1/health":{"get":{"tags":["health"],"summary":"Health Check","operationId":"health_check_api_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/client/request-otp":{"post":{"tags":["auth"],"summary":"Request Client Otp","operationId":"request_client_otp_api_v1_auth_client_request_otp_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientOTPRequest"}}},"required":true},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/client/verify-otp":{"post":{"tags":["auth"],"summary":"Verify Client Otp","operationId":"verify_client_otp_api_v1_auth_client_verify_otp_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientOTPVerify"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Verify Client Otp Api V1 Auth Client Verify Otp Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/staff/login":{"post":{"tags":["auth"],"summary":"Staff Login","operationId":"staff_login_api_v1_auth_staff_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaffLoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Staff Login Api V1 Auth Staff Login Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/staff/change-password":{"post":{"tags":["auth"],"summary":"Change Staff Password","operationId":"change_staff_password_api_v1_auth_staff_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaffChangePasswordRequest"}}},"required":true},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/staff":{"post":{"tags":["auth"],"summary":"Create Staff","operationId":"create_staff_api_v1_auth_staff_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaffCreateRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaffRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/refresh":{"post":{"tags":["auth"],"summary":"Refresh Tokens","operationId":"refresh_tokens_api_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["auth"],"summary":"Read Profile","operationId":"read_profile_api_v1_auth_me_get","parameters":[{"required":false,"schema":{"type":"integer","title":"Cashback Limit","default":10},"name":"cashback_limit","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users":{"get":{"tags":["users"],"summary":"List Users","operationId":"list_users_api_v1_users_get","parameters":[{"required":false,"schema":{"type":"string","minLength":1,"title":"Search"},"name":"search","in":"query"},{"required":false,"schema":{"type":"integer","minimum":1.0,"title":"Page","default":1},"name":"page","in":"query"},{"required":false,"schema":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Page Size","default":20},"name":"page_size","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/me":{"put":{"tags":["users"],"summary":"Update Profile","operationId":"update_profile_api_v1_users_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"delete":{"tags":["users"],"summary":"Delete Account","operationId":"delete_account_api_v1_users_me_delete","responses":{"204":{"description":"Successful Response"}},"security":[{"HTTPBearer":[]}]}},"/api/v1/cashback/add":{"post":{"tags":["cashback"],"summary":"Add Cashback","operationId":"add_cashback_api_v1_cashback_add_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CashbackCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CashbackRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/cashback/use":{"post":{"tags":["cashback"],"summary":"Use Cashback","operationId":"use_cashback_api_v1_cashback_use_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CashbackUseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CashbackUseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/cashback/user/{user_id}":{"get":{"tags":["cashback"],"summary":"Get User Cashback","operationId":"get_user_cashback_api_v1_cashback_user__user_id__get","parameters":[{"required":true,"schema":{"type":"integer","title":"User Id"},"name":"user_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CashbackHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/cashback/loyalty-analytics":{"get":{"tags":["cashback"],"summary":"Loyalty Analytics","description":"Return loyalty summary for users (paginated).","operationId":"loyalty_analytics_api_v1_cashback_loyalty_analytics_get","parameters":[{"required":false,"schema":{"type":"integer","minimum":1.0,"title":"Page","default":1},"name":"page","in":"query"},{"required":false,"schema":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Page Size","default":10},"name":"page_size","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Loyalty Analytics Api V1 Cashback Loyalty Analytics Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/cashback":{"get":{"tags":["cashback"],"summary":"List Cashbacks","description":"List cashback transactions (admin/manager only). Supports optional search by user name/phone and branch filter.","operationId":"list_cashbacks_api_v1_cashback_get","parameters":[{"required":false,"schema":{"type":"integer","minimum":1.0,"title":"Page","default":1},"name":"page","in":"query"},{"required":false,"schema":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Page Size","default":10},"name":"page_size","in":"query"},{"required":false,"schema":{"type":"string","title":"Search","default":""},"name":"search","in":"query"},{"required":false,"schema":{"$ref":"#/components/schemas/SardobaBranch"},"name":"branch","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response List Cashbacks Api V1 Cashback Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/files/profile-photo":{"post":{"tags":["files"],"summary":"Upload Profile Photo","operationId":"upload_profile_photo_api_v1_files_profile_photo_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_profile_photo_api_v1_files_profile_photo_post"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/files/profile-photo/{file_name}":{"get":{"tags":["files"],"summary":"Get Profile Photo","operationId":"get_profile_photo_api_v1_files_profile_photo__file_name__get","parameters":[{"required":true,"schema":{"type":"string","title":"File Name"},"name":"file_name","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/news":{"get":{"tags":["news"],"summary":"List News","operationId":"list_news_api_v1_news_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/NewsRead"},"type":"array","title":"Response List News Api V1 News Get"}}}}}},"post":{"tags":["news"],"summary":"Create News","operationId":"create_news_api_v1_news_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewsCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewsRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/news/{news_id}":{"put":{"tags":["news"],"summary":"Update News","operationId":"update_news_api_v1_news__news_id__put","parameters":[{"required":true,"schema":{"type":"integer","title":"News Id"},"name":"news_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewsUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewsRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"delete":{"tags":["news"],"summary":"Delete News","operationId":"delete_news_api_v1_news__news_id__delete","parameters":[{"required":true,"schema":{"type":"integer","title":"News Id"},"name":"news_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/catalog/categories":{"get":{"tags":["catalog"],"summary":"List Categories","operationId":"list_categories_api_v1_catalog_categories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/CategoryRead"},"type":"array","title":"Response List Categories Api V1 Catalog Categories Get"}}}}}},"post":{"tags":["catalog"],"summary":"Create Category","operationId":"create_category_api_v1_catalog_categories_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/catalog/live":{"get":{"tags":["catalog"],"summary":"List Live Menu","operationId":"list_live_menu_api_v1_catalog_live_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuResponse"}}}}}}},"/api/v1/catalog/categories/{category_id}":{"put":{"tags":["catalog"],"summary":"Update Category","operationId":"update_category_api_v1_catalog_categories__category_id__put","parameters":[{"required":true,"schema":{"type":"integer","title":"Category Id"},"name":"category_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"delete":{"tags":["catalog"],"summary":"Delete Category","operationId":"delete_category_api_v1_catalog_categories__category_id__delete","parameters":[{"required":true,"schema":{"type":"integer","title":"Category Id"},"name":"category_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/catalog/products":{"get":{"tags":["catalog"],"summary":"List Products","operationId":"list_products_api_v1_catalog_products_get","parameters":[{"required":false,"schema":{"type":"integer","title":"Category Id"},"name":"category_id","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ProductRead"},"type":"array","title":"Response List Products Api V1 Catalog Products Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["catalog"],"summary":"Create Product","operationId":"create_product_api_v1_catalog_products_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/catalog/products/{product_id}":{"put":{"tags":["catalog"],"summary":"Update Product","operationId":"update_product_api_v1_catalog_products__product_id__put","parameters":[{"required":true,"schema":{"type":"integer","title":"Product Id"},"name":"product_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"delete":{"tags":["catalog"],"summary":"Delete Product","operationId":"delete_product_api_v1_catalog_products__product_id__delete","parameters":[{"required":true,"schema":{"type":"integer","title":"Product Id"},"name":"product_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/notifications":{"get":{"tags":["notifications"],"summary":"List Notifications","operationId":"list_notifications_api_v1_notifications_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/NotificationRead"},"type":"array","title":"Response List Notifications Api V1 Notifications Get"}}}}}},"post":{"tags":["notifications"],"summary":"Create Notification","operationId":"create_notification_api_v1_notifications_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/notifications/{notification_id}":{"get":{"tags":["notifications"],"summary":"Get Notification","operationId":"get_notification_api_v1_notifications__notification_id__get","parameters":[{"required":true,"schema":{"type":"integer","title":"Notification Id"},"name":"notification_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["notifications"],"summary":"Update Notification","operationId":"update_notification_api_v1_notifications__notification_id__put","parameters":[{"required":true,"schema":{"type":"integer","title":"Notification Id"},"name":"notification_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"delete":{"tags":["notifications"],"summary":"Delete Notification","operationId":"delete_notification_api_v1_notifications__notification_id__delete","parameters":[{"required":true,"schema":{"type":"integer","title":"Notification Id"},"name":"notification_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/notifications/register-token":{"post":{"tags":["notifications"],"summary":"Register Token","operationId":"register_token_api_v1_notifications_register_token_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationTokenRegister"}}},"required":true},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/stats/waiters":{"get":{"tags":["stats"],"summary":"Waiter Stats","operationId":"waiter_stats_api_v1_stats_waiters_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/WaiterStats"},"type":"array","title":"Response Waiter Stats Api V1 Stats Waiters Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/stats/users/top":{"get":{"tags":["stats"],"summary":"Top Users","operationId":"top_users_api_v1_stats_users_top_get","parameters":[{"required":false,"schema":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Limit","default":10},"name":"limit","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/TopUserStats"},"type":"array","title":"Response Top Users Api V1 Stats Users Top Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/auth-logs":{"get":{"tags":["admin"],"summary":"List Auth Logs","operationId":"list_auth_logs_api_v1_admin_auth_logs_get","parameters":[{"required":false,"schema":{"type":"integer","minimum":1.0,"title":"Page","default":1},"name":"page","in":"query"},{"required":false,"schema":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Size","default":20},"name":"size","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/iiko/webhook":{"post":{"tags":["iiko"],"summary":"Iiko Webhook","operationId":"iiko_webhook_api_v1_iiko_webhook_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"object","title":"Response Iiko Webhook Api V1 Iiko Webhook Post"}}}}}}},"/api/v1/waiters":{"get":{"tags":["waiters"],"summary":"List Waiters","operationId":"list_waiters_api_v1_waiters_get","parameters":[{"required":false,"schema":{"type":"string","minLength":1,"title":"Search"},"name":"search","in":"query"},{"required":false,"schema":{"type":"integer","minimum":1.0,"title":"Page","default":1},"name":"page","in":"query"},{"required":false,"schema":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Size","default":20},"name":"size","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaffListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["waiters"],"summary":"Create Waiter","operationId":"create_waiter_api_v1_waiters_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WaiterCreateRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaffRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/waiters/{waiter_id}":{"get":{"tags":["waiters"],"summary":"Get Waiter","operationId":"get_waiter_api_v1_waiters__waiter_id__get","parameters":[{"required":true,"schema":{"type":"integer","title":"Waiter Id"},"name":"waiter_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaffRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["waiters"],"summary":"Update Waiter","operationId":"update_waiter_api_v1_waiters__waiter_id__put","parameters":[{"required":true,"schema":{"type":"integer","title":"Waiter Id"},"name":"waiter_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WaiterUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaffRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"delete":{"tags":["waiters"],"summary":"Delete Waiter","operationId":"delete_waiter_api_v1_waiters__waiter_id__delete","parameters":[{"required":true,"schema":{"type":"integer","title":"Waiter Id"},"name":"waiter_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"Body_upload_profile_photo_api_v1_files_profile_photo_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_profile_photo_api_v1_files_profile_photo_post"},"CashbackCreate":{"properties":{"user_id":{"type":"integer","title":"User Id"},"amount":{"type":"number","exclusiveMinimum":0.0,"title":"Amount"},"branch_id":{"$ref":"#/components/schemas/SardobaBranch"},"source":{"$ref":"#/components/schemas/CashbackSource"}},"type":"object","required":["user_id","amount","source"],"title":"CashbackCreate"},"CashbackHistoryResponse":{"properties":{"loyalty":{"$ref":"#/components/schemas/LoyaltySummary"},"transactions":{"items":{"$ref":"#/components/schemas/CashbackRead"},"type":"array","title":"Transactions"}},"type":"object","required":["loyalty","transactions"],"title":"CashbackHistoryResponse"},"CashbackRead":{"properties":{"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"amount":{"type":"number","title":"Amount"},"branch_id":{"$ref":"#/components/schemas/SardobaBranch"},"source":{"$ref":"#/components/schemas/CashbackSource"},"staff_id":{"type":"integer","title":"Staff Id"},"balance_after":{"type":"number","title":"Balance After"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","user_id","amount","source","balance_after","created_at"],"title":"CashbackRead"},"CashbackSource":{"type":"string","enum":["QR","ORDER","MANUAL"],"title":"CashbackSource","description":"An enumeration."},"CashbackUseRequest":{"properties":{"user_id":{"type":"integer","title":"User Id"},"amount":{"type":"number","exclusiveMinimum":0.0,"title":"Amount"}},"type":"object","required":["user_id","amount"],"title":"CashbackUseRequest"},"CashbackUseResponse":{"properties":{"can_use_cashback":{"type":"boolean","title":"Can Use Cashback"},"balance":{"type":"number","title":"Balance"},"message":{"additionalProperties":{"type":"string"},"type":"object","title":"Message"}},"type":"object","required":["can_use_cashback","balance","message"],"title":"CashbackUseResponse"},"CategoryCreate":{"properties":{"name":{"type":"string","maxLength":150,"title":"Name"},"image_url":{"type":"string","maxLength":500,"title":"Image Url"}},"type":"object","required":["name"],"title":"CategoryCreate"},"CategoryRead":{"properties":{"name":{"type":"string","maxLength":150,"title":"Name"},"image_url":{"type":"string","maxLength":500,"title":"Image Url"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["name","id"],"title":"CategoryRead"},"CategoryUpdate":{"properties":{"name":{"type":"string","maxLength":150,"title":"Name"},"image_url":{"type":"string","maxLength":500,"title":"Image Url"}},"type":"object","title":"CategoryUpdate"},"ClientOTPRequest":{"properties":{"phone":{"type":"string","pattern":"^\\+?\\d{7,15}$","title":"Phone"},"purpose":{"type":"string","title":"Purpose","default":"login"}},"type":"object","required":["phone"],"title":"ClientOTPRequest"},"ClientOTPVerify":{"properties":{"phone":{"type":"string","pattern":"^\\+?\\d{7,15}$","title":"Phone"},"code":{"type":"string","maxLength":8,"minLength":4,"title":"Code"},"name":{"type":"string","maxLength":150,"title":"Name"},"waiter_referral_code":{"type":"string","maxLength":12,"title":"Waiter Referral Code"},"purpose":{"type":"string","title":"Purpose","default":"login"},"date_of_birth":{"type":"string","format":"date","title":"Date Of Birth"}},"type":"object","required":["phone","code"],"title":"ClientOTPVerify"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoyaltySummary":{"properties":{"level":{"type":"string","title":"Level"},"cashback_balance":{"type":"number","title":"Cashback Balance"},"points_total":{"type":"number","title":"Points Total"},"current_level_points":{"type":"number","title":"Current Level Points"},"current_level_min_points":{"type":"number","title":"Current Level Min Points"},"current_level_max_points":{"type":"number","title":"Current Level Max Points"},"next_level":{"type":"string","title":"Next Level"},"next_level_required_points":{"type":"number","title":"Next Level Required Points"},"points_to_next_level":{"type":"number","title":"Points To Next Level"},"is_max_level":{"type":"boolean","title":"Is Max Level"},"cashback_percent":{"type":"number","title":"Cashback Percent"},"next_level_cashback_percent":{"type":"number","title":"Next Level Cashback Percent"}},"type":"object","required":["cashback_balance","points_total","current_level_points","current_level_min_points","points_to_next_level","is_max_level","cashback_percent"],"title":"LoyaltySummary"},"MenuCategory":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"slug":{"type":"string","title":"Slug"},"items":{"items":{"$ref":"#/components/schemas/MenuItem"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"MenuCategory"},"MenuItem":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"prices":{"items":{"$ref":"#/components/schemas/MenuPrice"},"type":"array","title":"Prices"},"images":{"items":{"type":"string"},"type":"array","title":"Images"}},"type":"object","required":["prices"],"title":"MenuItem"},"MenuPrice":{"properties":{"storeId":{"type":"integer","title":"Storeid"},"storeName":{"type":"string","title":"Storename"},"price":{"type":"integer","title":"Price"},"disabled":{"type":"boolean","title":"Disabled"}},"type":"object","required":["storeId","storeName","price","disabled"],"title":"MenuPrice"},"MenuResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"categories":{"items":{"$ref":"#/components/schemas/MenuCategory"},"type":"array","title":"Categories"}},"type":"object","required":["success","categories"],"title":"MenuResponse"},"NewsCreate":{"properties":{"title":{"type":"string","maxLength":255,"title":"Title"},"description":{"type":"string","title":"Description"},"image_url":{"type":"string","maxLength":500,"title":"Image Url"},"starts_at":{"type":"string","format":"date-time","title":"Starts At"},"ends_at":{"type":"string","format":"date-time","title":"Ends At"},"priority":{"type":"integer","title":"Priority","default":0}},"type":"object","required":["title","description"],"title":"NewsCreate"},"NewsRead":{"properties":{"title":{"type":"string","maxLength":255,"title":"Title"},"description":{"type":"string","title":"Description"},"image_url":{"type":"string","maxLength":500,"title":"Image Url"},"starts_at":{"type":"string","format":"date-time","title":"Starts At"},"ends_at":{"type":"string","format":"date-time","title":"Ends At"},"priority":{"type":"integer","title":"Priority","default":0},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["title","description","id","created_at"],"title":"NewsRead"},"NewsUpdate":{"properties":{"title":{"type":"string","maxLength":255,"title":"Title"},"description":{"type":"string","title":"Description"},"image_url":{"type":"string","maxLength":500,"title":"Image Url"},"starts_at":{"type":"string","format":"date-time","title":"Starts At"},"ends_at":{"type":"string","format":"date-time","title":"Ends At"},"priority":{"type":"integer","title":"Priority"}},"type":"object","title":"NewsUpdate"},"NotificationCreate":{"properties":{"title":{"type":"string","maxLength":255,"title":"Title"},"description":{"type":"string","title":"Description"}},"type":"object","required":["title","description"],"title":"NotificationCreate"},"NotificationRead":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","title","description","created_at"],"title":"NotificationRead"},"NotificationTokenRegister":{"properties":{"deviceToken":{"type":"string","title":"Devicetoken"},"deviceType":{"type":"string","enum":["ios","android"],"title":"Devicetype"},"language":{"type":"string","title":"Language","default":"ru"}},"type":"object","required":["deviceToken","deviceType"],"title":"NotificationTokenRegister"},"NotificationUpdate":{"properties":{"title":{"type":"string","maxLength":255,"title":"Title"},"description":{"type":"string","title":"Description"}},"type":"object","title":"NotificationUpdate"},"Pagination":{"properties":{"page":{"type":"integer","title":"Page"},"size":{"type":"integer","title":"Size"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["page","size","total"],"title":"Pagination"},"ProductCreate":{"properties":{"category_id":{"type":"integer","title":"Category Id"},"name":{"type":"string","maxLength":255,"title":"Name"},"price":{"type":"number","exclusiveMinimum":0.0,"title":"Price"},"image_url":{"type":"string","maxLength":500,"title":"Image Url"}},"type":"object","required":["category_id","name","price"],"title":"ProductCreate"},"ProductRead":{"properties":{"category_id":{"type":"integer","title":"Category Id"},"name":{"type":"string","maxLength":255,"title":"Name"},"price":{"type":"number","exclusiveMinimum":0.0,"title":"Price"},"image_url":{"type":"string","maxLength":500,"title":"Image Url"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["category_id","name","price","id"],"title":"ProductRead"},"ProductUpdate":{"properties":{"category_id":{"type":"integer","title":"Category Id"},"name":{"type":"string","maxLength":255,"title":"Name"},"price":{"type":"number","exclusiveMinimum":0.0,"title":"Price"},"image_url":{"type":"string","maxLength":500,"title":"Image Url"}},"type":"object","title":"ProductUpdate"},"RefreshRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"RefreshRequest"},"SardobaBranch":{"type":"integer","enum":[139235,157757,139350,139458],"title":"SardobaBranch","description":"An enumeration."},"StaffChangePasswordRequest":{"properties":{"old_password":{"type":"string","minLength":6,"title":"Old Password"},"new_password":{"type":"string","minLength":6,"title":"New Password"}},"type":"object","required":["old_password","new_password"],"title":"StaffChangePasswordRequest"},"StaffCreateRequest":{"properties":{"name":{"type":"string","maxLength":150,"title":"Name"},"phone":{"type":"string","pattern":"^\\+?\\d{7,15}$","title":"Phone"},"password":{"type":"string","minLength":6,"title":"Password"},"role":{"$ref":"#/components/schemas/StaffRole"},"branch_id":{"$ref":"#/components/schemas/SardobaBranch"}},"type":"object","required":["name","phone","password","role"],"title":"StaffCreateRequest"},"StaffListResponse":{"properties":{"pagination":{"$ref":"#/components/schemas/Pagination"},"items":{"items":{"$ref":"#/components/schemas/StaffRead"},"type":"array","title":"Items"}},"type":"object","required":["pagination","items"],"title":"StaffListResponse"},"StaffLoginRequest":{"properties":{"phone":{"type":"string","maxLength":32,"minLength":3,"title":"Phone"},"password":{"type":"string","minLength":6,"title":"Password"}},"type":"object","required":["phone","password"],"title":"StaffLoginRequest"},"StaffRead":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"phone":{"type":"string","title":"Phone"},"role":{"$ref":"#/components/schemas/StaffRole"},"branch_id":{"$ref":"#/components/schemas/SardobaBranch"},"referral_code":{"type":"string","title":"Referral Code"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","name","phone","role","created_at","updated_at"],"title":"StaffRead"},"StaffRole":{"type":"string","enum":["MANAGER","WAITER"],"title":"StaffRole","description":"An enumeration."},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token","refresh_token"],"title":"TokenResponse"},"TopUserStats":{"properties":{"user_id":{"type":"integer","title":"User Id"},"user_name":{"type":"string","title":"User Name"},"phone":{"type":"string","title":"Phone"},"total_cashback":{"type":"number","title":"Total Cashback"}},"type":"object","required":["user_id","phone","total_cashback"],"title":"TopUserStats"},"UserListResponse":{"properties":{"pagination":{"$ref":"#/components/schemas/Pagination"},"items":{"items":{"$ref":"#/components/schemas/UserRead"},"type":"array","title":"Items"}},"type":"object","required":["pagination","items"],"title":"UserListResponse"},"UserRead":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"phone":{"type":"string","title":"Phone"},"waiter_id":{"type":"integer","title":"Waiter Id"},"date_of_birth":{"type":"string","title":"Date Of Birth"},"profile_photo_url":{"type":"string","title":"Profile Photo Url"},"cashback_balance":{"type":"number","title":"Cashback Balance"},"level":{"type":"string","title":"Level"},"email":{"type":"string","title":"Email"},"gender":{"type":"string","title":"Gender"}},"type":"object","required":["id","phone","cashback_balance","level"],"title":"UserRead"},"UserUpdate":{"properties":{"name":{"type":"string","title":"Name"},"date_of_birth":{"type":"string","format":"date","title":"Date Of Birth"},"profile_photo_url":{"type":"string","title":"Profile Photo Url"},"email":{"type":"string","title":"Email"},"gender":{"type":"string","title":"Gender"}},"type":"object","title":"UserUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WaiterCreateRequest":{"properties":{"name":{"type":"string","maxLength":150,"title":"Name"},"phone":{"type":"string","pattern":"^\\+?\\d{7,15}$","title":"Phone"},"password":{"type":"string","minLength":6,"title":"Password"},"branch_id":{"$ref":"#/components/schemas/SardobaBranch"}},"type":"object","required":["name","phone","password"],"title":"WaiterCreateRequest"},"WaiterStats":{"properties":{"waiter_id":{"type":"integer","title":"Waiter Id"},"waiter_name":{"type":"string","title":"Waiter Name"},"total_cashback":{"type":"number","title":"Total Cashback"}},"type":"object","required":["waiter_id","waiter_name","total_cashback"],"title":"WaiterStats"},"WaiterUpdateRequest":{"properties":{"name":{"type":"string","maxLength":150,"title":"Name"},"phone":{"type":"string","pattern":"^\\+?\\d{7,15}$","title":"Phone"},"password":{"type":"string","minLength":6,"title":"Password"},"branch_id":{"$ref":"#/components/schemas/SardobaBranch"}},"type":"object","title":"WaiterUpdateRequest"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}